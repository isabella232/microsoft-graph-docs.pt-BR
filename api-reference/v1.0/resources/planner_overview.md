# <a name="use-the-planner-rest-api"></a><span data-ttu-id="e12ac-101">Usar a API REST do Planner</span><span class="sxs-lookup"><span data-stu-id="e12ac-101">Use the Planner API</span></span>

<span data-ttu-id="e12ac-102">Você pode usar a API do Planner no Microsoft Graph para criar tarefas e atribuí-las aos usuários em um grupo no Office 365.</span><span class="sxs-lookup"><span data-stu-id="e12ac-102">You can use the Planner API in Microsoft Graph to create tasks and assign them to users in a group in Office 365.</span></span>

<span data-ttu-id="e12ac-103">Antes de usar a API do Planner, vale a pena entender como os principais objetos na API do Planner se relacionam entre si e também com os grupos do Office 365.</span><span class="sxs-lookup"><span data-stu-id="e12ac-103">Before you get started with trying out the Planner API, it is worth understanding how the main objects in Planner API relate to each other as well as Office 365 groups.</span></span>

## <a name="groups"></a><span data-ttu-id="e12ac-104">Grupos</span><span class="sxs-lookup"><span data-stu-id="e12ac-104">Groups</span></span>

<span data-ttu-id="e12ac-105">Grupos de Office 365 são os proprietários dos planos na API do Planner.</span><span class="sxs-lookup"><span data-stu-id="e12ac-105">Office 365 groups are the owners of the plans in the Planner API. To get the plans owned by a group, make the HTTP request below.</span></span>
<span data-ttu-id="e12ac-106">Para[obter os planos de propriedade de um grupo](../api/plannergroup_list_plans.md), faça a seguinte solicitação HTTP.</span><span class="sxs-lookup"><span data-stu-id="e12ac-106">To [get the plans owned by a group](../api/plannergroup_list_plans.md), make the following HTTP request.</span></span>

``` http
GET /groups/{id}/planner/plans
```

<span data-ttu-id="e12ac-107">Ao [criar um novo plano](../api/planner_post_plans.md), torne um grupo seu próprio proprietário definindo a propriedade `owner` em um objeto do plano.</span><span class="sxs-lookup"><span data-stu-id="e12ac-107">When [creating a new plan](../api/planner_post_plans.md), make a group its owner by simply setting the `owner` property on a plan object. Plans must be owned by groups.</span></span> <span data-ttu-id="e12ac-108">Os planos devem ser de propriedade dos grupos.</span><span class="sxs-lookup"><span data-stu-id="e12ac-108">Plans must be owned by groups.</span></span>

><span data-ttu-id="e12ac-109">**Nota:** o usuário que está criando o plano deve ser membro do grupo que será o proprietário do plano.</span><span class="sxs-lookup"><span data-stu-id="e12ac-109">**Note:** The user who is creating the plan must be a member of the group that will own the plan.</span></span> <span data-ttu-id="e12ac-110">Ao criar um novo grupo usando [Criar grupo](../api/group_post_groups.md), você não é adicionado ao grupo como um membro.</span><span class="sxs-lookup"><span data-stu-id="e12ac-110">When you create a new group by using [Create group](../api/group_post_groups.md), you are not added to the group as a member.</span></span> <span data-ttu-id="e12ac-111">Após criar o grupo, adicione-se como membro usando [membros de postagem de grupo](../api/group_post_members.md).</span><span class="sxs-lookup"><span data-stu-id="e12ac-111">After the group is created, add yourself as a member by using [group post members](../api/group_post_members.md).</span></span>

## <a name="plans"></a><span data-ttu-id="e12ac-112">Planos</span><span class="sxs-lookup"><span data-stu-id="e12ac-112">Plans</span></span>

<span data-ttu-id="e12ac-113">[Planos](plannerplan.md) são os recipientes de [tarefas](plannertask.md).</span><span class="sxs-lookup"><span data-stu-id="e12ac-113">[Plans](plannerplan.md) are the containers of [tasks](plannertask.md).</span></span> <span data-ttu-id="e12ac-114">Para [criar uma tarefa em um plano](../api/planner_post_tasks.md), defina a propriedade `planId` no objeto de tarefa para a ID do plano durante a criação da tarefa.</span><span class="sxs-lookup"><span data-stu-id="e12ac-114">Plans are the containers of tasks. To [create a task in a plan](../api/planner_post_tasks.md), set the `planId` property on the task object to the ID of the plan while creating the task. Tasks currently cannot be created without plans. To retrieve the tasks in a plan, make the HTTP request below.</span></span>
<span data-ttu-id="e12ac-115">Atualmente, tarefas não podem ser criadas sem planos.</span><span class="sxs-lookup"><span data-stu-id="e12ac-115">Tasks currently cannot be created without plans.</span></span>
<span data-ttu-id="e12ac-116">Para [recuperar as tarefas em um plano](../api/plannerplan_list_tasks.md), faça a seguinte solicitação HTTP.</span><span class="sxs-lookup"><span data-stu-id="e12ac-116">To [retrieve the tasks in a plan](../api/plannerplan_list_tasks.md), make the following HTTP request.</span></span>

``` http
GET /planner/plans/{id}/tasks
```

## <a name="tasks"></a><span data-ttu-id="e12ac-117">Tarefas</span><span class="sxs-lookup"><span data-stu-id="e12ac-117">Tasks</span></span>

<span data-ttu-id="e12ac-p105">Cada tarefa pode ser atribuída a um usuário ao adicionar uma [atribuição](plannerassignment.md) à propriedade [assignments](plannerassignments.md) no objeto task. A ID do usuário ao qual a tarefa será atribuída é o nome da propriedade open em `assignments`. Além disso, a propriedade `orderHint` na atribuição deve ser especificada.</span><span class="sxs-lookup"><span data-stu-id="e12ac-p105">Each task can be assigned to a user by adding an [assignment](plannerassignment.md) in the [assignments](plannerassignments.md) property on the task object. The ID of the user to assign the task is the name of the open property on `assignments`, and the `orderHint` property on the assignment must be specified.</span></span>

## <a name="task-and-plan-details"></a><span data-ttu-id="e12ac-120">Detalhes de planos e tarefas</span><span class="sxs-lookup"><span data-stu-id="e12ac-120">Task and plan details</span></span> 

<span data-ttu-id="e12ac-p106">Os recursos do Planner são organizados em objetos básicos e objetos detalhados. Os objetos básicos oferecem acesso às propriedades comuns dos recursos, adequadas para modos de exibição de lista. No entanto, os objetos detalhados fornecem acesso a grandes propriedades dos recursos, adequadas para modos de exibição de busca detalhada.</span><span class="sxs-lookup"><span data-stu-id="e12ac-p106">Planner resources are arranged into basic objects and detail objects. Basic objects provide access to common properties of the resources, suitable for list views, while the detail objects provide access to large properties of the resources suitable for drill down views.</span></span>

## <a name="visualization"></a><span data-ttu-id="e12ac-123">Visualização</span><span class="sxs-lookup"><span data-stu-id="e12ac-123">Visualization</span></span>

<span data-ttu-id="e12ac-p107">Além do plano de dados e tarefas, a API do Planner também oferece recursos para disponibilizar uma visualização comum de dados nos clientes. Há vários tipos de visualização de dados disponíveis para as tarefas:</span><span class="sxs-lookup"><span data-stu-id="e12ac-p107">Aside from task and plan data, the Planner API also provides resources to provide common visualization of data across clients. Several types of visualization data are available for tasks:</span></span>

| <span data-ttu-id="e12ac-126">As tarefas são exibidas como</span><span class="sxs-lookup"><span data-stu-id="e12ac-126">Tasks are shown as</span></span>                                                                        | <span data-ttu-id="e12ac-127">As tarefas são ordenadas com informações de</span><span class="sxs-lookup"><span data-stu-id="e12ac-127">Tasks are ordered with information from</span></span>                                         |
| :---------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------ |
| <span data-ttu-id="e12ac-128">Lista plana (tarefas em um plano)</span><span class="sxs-lookup"><span data-stu-id="e12ac-128">Flat list (tasks in a plan)</span></span>                                                               | <span data-ttu-id="e12ac-129">`orderHint` propriedade em tarefas</span><span class="sxs-lookup"><span data-stu-id="e12ac-129">`orderHint` property on tasks</span></span>                                                   |
| <span data-ttu-id="e12ac-130">Lista plana (tarefas atribuídas a um usuário)</span><span class="sxs-lookup"><span data-stu-id="e12ac-130">Flat list (tasks assigned to a user)</span></span>                                                      | <span data-ttu-id="e12ac-131">`assigneePriority` propriedade em tarefas</span><span class="sxs-lookup"><span data-stu-id="e12ac-131">`assigneePriority` property on tasks</span></span>                                            |
| <span data-ttu-id="e12ac-132">Modo de exibição de quadro com colunas para os destinatários (atribuídos ao quadro de tarefas)</span><span class="sxs-lookup"><span data-stu-id="e12ac-132">Board view with columns for assignees (assigned to task board)</span></span>                            | <span data-ttu-id="e12ac-133">Objeto [assignedToTaskBoardTaskFormat](plannerassignedToTaskBoardTaskFormat.md)</span><span class="sxs-lookup"><span data-stu-id="e12ac-133">[assignedToTaskBoardTaskFormat](plannerassignedToTaskBoardTaskFormat.md) object</span></span> |
| <span data-ttu-id="e12ac-134">O modo de exibição de quadro com colunas para o andamento da tarefa na direção de conclusão (quadro de tarefa de andamento)</span><span class="sxs-lookup"><span data-stu-id="e12ac-134">Board view with columns for progress of the task towards completion (progress task board)</span></span> | <span data-ttu-id="e12ac-135">Objeto [progressTaskBoardTaskFormat](plannerprogressTaskBoardTaskFormat.md)</span><span class="sxs-lookup"><span data-stu-id="e12ac-135">[progressTaskBoardTaskFormat](plannerprogressTaskBoardTaskFormat.md) object</span></span>     |
| <span data-ttu-id="e12ac-136">Modo de exibição de quadro com colunas personalizadas de tarefas (quadro de tarefa do bucket):</span><span class="sxs-lookup"><span data-stu-id="e12ac-136">Board view with custom columns of tasks (bucket task board):</span></span>                              | <span data-ttu-id="e12ac-137">Objeto [bucketTaskBoardTaskFormat](plannerbucketTaskBoardTaskFormat.md)</span><span class="sxs-lookup"><span data-stu-id="e12ac-137">[bucketTaskBoardTaskFormat](plannerbucketTaskBoardTaskFormat.md) object</span></span>         |

<span data-ttu-id="e12ac-138">As colunas personalizadas no quadro de tarefas do bucket são representadas pelos objetos [bucket](plannerbucket.md) e, sua ordem, pela propriedade `orderHint` no objeto.</span><span class="sxs-lookup"><span data-stu-id="e12ac-138">The custom columns in the bucket task board are represented by [bucket](plannerbucket.md) objects, and their order by `orderHint` property on the object.</span></span>

<span data-ttu-id="e12ac-139">Toda a ordem é controlada pelos princípios identificados em [Dicas de ordem do Planner](planner_order_hint_format.md).</span><span class="sxs-lookup"><span data-stu-id="e12ac-139">All the ordering is controlled by the principles identified in [Planner order hints](planner_order_hint_format.md).</span></span>

## <a name="planner-resource-versioning"></a><span data-ttu-id="e12ac-140">Versão do recurso do Planner</span><span class="sxs-lookup"><span data-stu-id="e12ac-140">Planner resource versioning</span></span>

<span data-ttu-id="e12ac-p108">O Planner cria versões com todos os recursos usando etags. Essas etags são retornadas com a propriedade `@odata.etag` em cada recurso e, as solicitações `PATCH` e `DELETE`, exigem a última etag conhecida pelo cliente a ser especificado pelo cabeçalho `If-Match`. O Planner permite alterações em versões mais antigas de recursos, se a alteração pretendida não estiver em conflito com as alterações mais recentes aceitas pelo serviço do Planner no mesmo recurso. Os clientes podem identificar qual etag para o mesmo recurso é mais recente ao calcular qual valor de etag é maior em comparação com a cadeia de caracteres ordinal. Cada recurso tem uma etag separada. Não há comparações entre os valores de etags de recursos diferentes, incluindo aqueles com relações de confinamento. Espera-se que os aplicativos cliente tratem dos dois controles de versão relacionados aos códigos de status de erro 409 e 412 ao ler a versão mais recente do item e resolver as alterações conflitantes.</span><span class="sxs-lookup"><span data-stu-id="e12ac-p108">Planner versions all resources using etags. These etags are returned with `@odata.etag` property on each resource, and `PATCH` and `DELETE` requests require the last etag known by the client to be specified with `If-Match` header. Planner allows changes to older versions of resources, if the intended change does not conflict with newer changes accepted by the Planner service on the same resource. The clients can identify which etag for the same resource is newer by calculating which etag value is greater in ordinal string comparison. Each resource has a separate etag. Etag values for different resources, including those with containment relationships, cannot be compared. The client apps are expected to handle two versioning related error status codes 409 and 412 by reading the latest version of the item, and resolving the conflicting changes.</span></span>

## <a name="common-planner-error-conditions"></a><span data-ttu-id="e12ac-148">Condições de erro comuns do Planner</span><span class="sxs-lookup"><span data-stu-id="e12ac-148">Common Planner error conditions</span></span>

<span data-ttu-id="e12ac-149">Além dos [erros gerais](../../../concepts/errors.md) que se aplicam ao Microsoft Graph, algumas condições de erro são específicas da API do Planner.</span><span class="sxs-lookup"><span data-stu-id="e12ac-149">In addition to [general errors](../../../concepts/errors.md) that apply to Microsoft Graph, some error conditions are specific to the Planner API.</span></span>

### <a name="400-bad-request"></a><span data-ttu-id="e12ac-150">400 Solicitação Incorreta</span><span class="sxs-lookup"><span data-stu-id="e12ac-150">400 Bad request</span></span>

<span data-ttu-id="e12ac-p109">Há diversos casos comuns onde as solicitações `POST` e `PATCH` podem ter um código de status 400. Os problemas comuns incluem:</span><span class="sxs-lookup"><span data-stu-id="e12ac-p109">There are several common cases where the `POST` and `PATCH` requests can get a 400 status code. Common problems include:</span></span>

* <span data-ttu-id="e12ac-p110">As propriedades Open Type não têm os tipos corretos ou o tipo não foi especificado ou não contêm propriedades. Por exemplo, as propriedades [plannerAssignments](plannerAssignments.md) com valores complexos precisam declarar a propriedade `@odata.type` com valor `microsoft.graph.plannerAssignment`.</span><span class="sxs-lookup"><span data-stu-id="e12ac-p110">Open Type properties are not of correct types, or the type isn't specified, or they do not contain any properties. For example, [plannerAssignments](plannerAssignments.md) properties with complex values need to declare `@odata.type` property with value `microsoft.graph.plannerAssignment`.</span></span>
* <span data-ttu-id="e12ac-p111">Os valores da dica de ordem não têm o [formato correto](planner_order_hint_format.md). Por exemplo, um valor de dica de ordem está sendo definido diretamente como o valor retornado ao cliente.</span><span class="sxs-lookup"><span data-stu-id="e12ac-p111">Order hint values do not have the [correct format](planner_order_hint_format.md). For example, an order hint value is being set directly to the value returned to the client.</span></span>
* <span data-ttu-id="e12ac-p112">Os dados são logicamente inconsistentes. Por exemplo, a data de início da tarefa é posterior à data de conclusão da tarefa.</span><span class="sxs-lookup"><span data-stu-id="e12ac-p112">The data is logically inconsistent. For example, start date of task is later than due date of the task.</span></span>

### <a name="403-forbidden"></a><span data-ttu-id="e12ac-159">403 Proibido</span><span class="sxs-lookup"><span data-stu-id="e12ac-159">403 Forbidden</span></span>

<span data-ttu-id="e12ac-p113">Além dos erros gerais, a API do Planner também retorna esse código de status quando um limite definido pelo serviço é excedido. Se esse for o caso, a propriedade `code` no tipo de recurso do erro indicará o tipo do limite excedido pela solicitação. Os valores possíveis para os tipos de limite incluem:</span><span class="sxs-lookup"><span data-stu-id="e12ac-p113">In addition to the general errors, the Planner API also returns this status code when a service-defined limit has been exceeded. If this is the case, the `code` property on the error resource type will indicate the type of the limit exceeded by the request. The possible values for the limit types include:</span></span>

| <span data-ttu-id="e12ac-163">Valor</span><span class="sxs-lookup"><span data-stu-id="e12ac-163">Value</span></span>                         | <span data-ttu-id="e12ac-164">Descrição</span><span class="sxs-lookup"><span data-stu-id="e12ac-164">Description</span></span>                                                                                                                                                                                              |
| :---------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="e12ac-165">MaximumProjectsOwnedByUser</span><span class="sxs-lookup"><span data-stu-id="e12ac-165">MaximumProjectsOwnedByUser</span></span>    | <span data-ttu-id="e12ac-p114">Foi excedido o número máximo de Planos pertencentes ao limite do grupo. Esse limite se baseia na propriedade `owner` no recurso [plannerPlan](plannerPlan.md).</span><span class="sxs-lookup"><span data-stu-id="e12ac-p114">The maximum number of Plans owned by a group limit has been exceeded. This limit is based on the `owner` property on the [plannerPlan](plannerPlan.md) resource.</span></span>                                         |
| <span data-ttu-id="e12ac-168">MaximumProjectsSharedWithUser</span><span class="sxs-lookup"><span data-stu-id="e12ac-168">MaximumProjectsSharedWithUser</span></span> | <span data-ttu-id="e12ac-p115">Foi excedido o número máximo de Planos compartilhados com um limite de usuário.  Esse limite se baseia na propriedade `sharedWith` no recurso [plannerPlanDetails](plannerPlanDetails.md).</span><span class="sxs-lookup"><span data-stu-id="e12ac-p115">The maximum number of Plans shared with a user limit has been exceeded.  This limit is based on the `sharedWith` property on the [plannerPlanDetails](plannerPlanDetails.md) resource.</span></span>                   |
| <span data-ttu-id="e12ac-171">MaximumTasksCreatedByUser</span><span class="sxs-lookup"><span data-stu-id="e12ac-171">MaximumTasksCreatedByUser</span></span>     | <span data-ttu-id="e12ac-p116">Foi excedido o número máximo de Tarefas criadas pelo limite do usuário. Esse limite se baseia na propriedade `createdBy` no recurso [plannerTask](plannerTask.md).</span><span class="sxs-lookup"><span data-stu-id="e12ac-p116">The maximum number of Tasks created by a user limit has been exceeded. This limit is based on the `createdBy` property on the [plannerTask](plannerTask.md) resource.</span></span>                                    |
| <span data-ttu-id="e12ac-174">MaximumTasksAssignedToUser</span><span class="sxs-lookup"><span data-stu-id="e12ac-174">MaximumTasksAssignedToUser</span></span>    | <span data-ttu-id="e12ac-p117">Foi excedido o número máximo de Tarefas atribuídas ao limite do usuário. Esse limite se baseia na propriedade `assignments` no recurso [plannerTask](plannerTask.md).</span><span class="sxs-lookup"><span data-stu-id="e12ac-p117">The maximum number of Tasks assigned to a user limit has been exceeded. This limit is based on the `assignments` property on the [plannerTask](plannerTask.md) resource.</span></span>                                 |
| <span data-ttu-id="e12ac-177">MaximumTasksInProject</span><span class="sxs-lookup"><span data-stu-id="e12ac-177">MaximumTasksInProject</span></span>         | <span data-ttu-id="e12ac-p118">Foi excedido o número máximo de Tarefas no limite de um Plano. Esse limite se baseia na propriedade `planId` no recurso [plannerTask](plannerTask.md).</span><span class="sxs-lookup"><span data-stu-id="e12ac-p118">The maximum number of Tasks in a Plan limit has been exceeded. This limit is based on the `planId` property on the [plannerTask](plannerTask.md) resource.</span></span>                                               |
| <span data-ttu-id="e12ac-180">MaximumActiveTasksInProject</span><span class="sxs-lookup"><span data-stu-id="e12ac-180">MaximumActiveTasksInProject</span></span>   | <span data-ttu-id="e12ac-p119">Foi excedido o número máximo de Tarefas que não foram concluídas no limite de um Plano. Esse limite se baseia nas propriedades `planId` e `percentComplete` no recurso [plannerTask](plannerTask.md).</span><span class="sxs-lookup"><span data-stu-id="e12ac-p119">The maximum number of Tasks that aren't completed in a Plan limit has been exceeded. This limit is based on the `planId` and `percentComplete` properties on the [plannerTask](plannerTask.md) resource.</span></span> |
| <span data-ttu-id="e12ac-183">MaximumBucketsInProject</span><span class="sxs-lookup"><span data-stu-id="e12ac-183">MaximumBucketsInProject</span></span>       | <span data-ttu-id="e12ac-p120">Foi excedido o número máximo de Buckets no limite de um Plano. Esse limite se baseia na propriedade `planId` no recurso [plannerBucket](plannerBucket.md).</span><span class="sxs-lookup"><span data-stu-id="e12ac-p120">The maximum number of Buckets in a Plan limit has been exceeded. This limit is based on the `planId` property on the [plannerBucket](plannerBucket.md) resource.</span></span>                                         |
| <span data-ttu-id="e12ac-186">MaximumUsersSharedWithProject</span><span class="sxs-lookup"><span data-stu-id="e12ac-186">MaximumUsersSharedWithProject</span></span> | <span data-ttu-id="e12ac-187">A propriedade `sharedWith` no recurso [plannerPlanDetails](plannerPlanDetails.md) contém muitos valores.</span><span class="sxs-lookup"><span data-stu-id="e12ac-187">The `sharedWith` property on the [plannerPlanDetails](plannerPlanDetails.md) resource contains too many values.</span></span>                                                                                          |
| <span data-ttu-id="e12ac-188">MaximumReferencesOnTask</span><span class="sxs-lookup"><span data-stu-id="e12ac-188">MaximumReferencesOnTask</span></span>       | <span data-ttu-id="e12ac-189">A propriedade `references` no recurso [plannerTaskDetails](plannerTaskDetails.md) contém muitos valores.</span><span class="sxs-lookup"><span data-stu-id="e12ac-189">The `references` property on the [plannerTaskDetails](plannerTaskDetails.md) resource contains too many values.</span></span>                                                                                          |
| <span data-ttu-id="e12ac-190">MaximumChecklistItemsOnTask</span><span class="sxs-lookup"><span data-stu-id="e12ac-190">MaximumChecklistItemsOnTask</span></span>   | <span data-ttu-id="e12ac-191">A propriedade `checklist` no recurso [plannerTaskDetails](plannerTaskDetails.md) contém muitos valores.</span><span class="sxs-lookup"><span data-stu-id="e12ac-191">The `checklist` property on the [plannerTaskDetails](plannerTaskDetails.md) resource contains too many values.</span></span>                                                                                           |
| <span data-ttu-id="e12ac-192">MaximumAssigneesInTasks</span><span class="sxs-lookup"><span data-stu-id="e12ac-192">MaximumAssigneesInTasks</span></span>       | <span data-ttu-id="e12ac-193">A propriedade `assignments` no recurso [plannerTask](plannerTask.md) contém muitos valores.</span><span class="sxs-lookup"><span data-stu-id="e12ac-193">The `assignments` property on the [plannerTask](plannerTask.md) resource contains too many values.</span></span>                                                                                                       |

### <a name="412-precondition-failed"></a><span data-ttu-id="e12ac-194">412 Falha na Pré-condição</span><span class="sxs-lookup"><span data-stu-id="e12ac-194">412 Precondition Failed</span></span> 

<span data-ttu-id="e12ac-p121">Todas as solicitações `POST`, `PATCH` e `DELETE` na API do Planner exigem que o cabeçalho `If-Match` seja especificado com o último valor da etag visto do recurso que está sujeito à solicitação. Além disso, o código de status 412 pode ser retornado se o valor da etag especificado na solicitação já não corresponder a uma versão do recurso no serviço. Nesse caso, os clientes devem ler o recurso novamente e obter uma nova etag.</span><span class="sxs-lookup"><span data-stu-id="e12ac-p121">All `POST`, `PATCH` and `DELETE` requests in Planner API require `If-Match` header to be specified with the last etag value seen of the resource that is subject to the request. Additionally, 412 status code can be returned if the etag value specified in the request no longer matches a version of the resource in the service. In this case, the clients should read the resource again and obtain a new etag.</span></span>

