---
title: Autorização para APIs lerem os relatórios de uso do Office 365
description: Os dados de relatórios acessíveis por meio da API de relatórios do Microsoft Graph são confidenciais e protegidos por permissões e funções do Azure AD (Azure Active Directory).
author: yixia
localization_priority: Priority
ms.prod: reports
ms.openlocfilehash: b62da7d042f4dc61c2ee4da648fd0b612f5caac8
ms.sourcegitcommit: dbc547a845e507aa934025f9dc73563c13b4fb90
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/12/2020
ms.locfileid: "42606174"
---
# <a name="authorization-for-apis-to-read-office-365-usage-reports"></a><span data-ttu-id="68076-103">Autorização para APIs lerem os relatórios de uso do Office 365</span><span class="sxs-lookup"><span data-stu-id="68076-103">Authorization for APIs to read Office 365 usage reports</span></span>

<span data-ttu-id="68076-104">Os dados do relatório acessíveis por meio da API de relatórios do Microsoft Graph são confidenciais.</span><span class="sxs-lookup"><span data-stu-id="68076-104">Report data accessible via the Microsoft Graph reports API is sensitive.</span></span> <span data-ttu-id="68076-105">Em particular, os relatórios de uso do Office 365 são protegidos por permissões e funções do Azure AD (Azure Active Directory).</span><span class="sxs-lookup"><span data-stu-id="68076-105">In particular, Office 365 usage reports are protected by both permissions and Azure Active Directory (Azure AD) roles.</span></span> <span data-ttu-id="68076-106">As informações neste artigo se aplicam à API de relatórios que lê os relatórios de uso do Office 365.</span><span class="sxs-lookup"><span data-stu-id="68076-106">The information in this article applies to the reports API that reads Office 365 usage reports.</span></span>

<span data-ttu-id="68076-107">As APIs que leem os relatórios de uso do Office 365 oferecem suporte a dois tipos de autorização:</span><span class="sxs-lookup"><span data-stu-id="68076-107">The APIs to read Office 365 usage reports support two types of authorization:</span></span>

- <span data-ttu-id="68076-108">**Autorização no nível do aplicativo** – permite que um aplicativo leia todos os relatórios de uso de serviço sem um usuário conectado.</span><span class="sxs-lookup"><span data-stu-id="68076-108">**Application-level authorization** - Allows an app to read all service usage reports without a signed-in user.</span></span> <span data-ttu-id="68076-109">As permissões concedidas ao aplicativo determinam a autorização.</span><span class="sxs-lookup"><span data-stu-id="68076-109">The permissions granted to the application determine authorization.</span></span> 
- <span data-ttu-id="68076-110">**Permissão delegada pelo usuário** – permite que um aplicativo leia todos os relatórios de uso de serviço em nome do usuário conectado.</span><span class="sxs-lookup"><span data-stu-id="68076-110">**User delegated authorization** - Allows an app to read all service usage reports on behalf of the signed-in user.</span></span> <span data-ttu-id="68076-111">Além do aplicativo ter recebido as permissões necessárias, o usuário deve ser membro de uma função de administrador limitada do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="68076-111">In addition to the app having been granted the required permissions, the user must be a member of an Azure AD limited administrator role.</span></span> <span data-ttu-id="68076-112">Essa pode ser uma das seguintes funções: administrador da empresa, administrador do Exchange, administrador do SharePoint, administrador do Lync, Administrador de Serviço do Teams, Administrador de Comunicações do Teams, leitor global ou leitor de relatórios.</span><span class="sxs-lookup"><span data-stu-id="68076-112">This can be one of the following roles: company administrator, Exchange administrator, SharePoint administrator, Lync administrator, Teams Service Administrator, Teams Communications Administrator, global reader, or reports reader.</span></span>

<span data-ttu-id="68076-113">Se você estiver chamando as APIs do Explorador do Graph:</span><span class="sxs-lookup"><span data-stu-id="68076-113">If you're calling the APIs from Graph Explorer:</span></span>

- <span data-ttu-id="68076-114">O administrador de locatário do Azure AD deve conceder explicitamente o consentimento das permissões solicitadas ao aplicativo do Explorador do Graph.</span><span class="sxs-lookup"><span data-stu-id="68076-114">The Azure AD tenant administrator must explicitly grant consent for the requested permissions to the Graph Explorer application.</span></span>
- <span data-ttu-id="68076-115">O usuário deve ser membro de uma função de administrador limitada no Azure AD, listada acima para autorização delegada pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="68076-115">The user must be a member of a limited administrator role in Azure AD, listed above for user-delegated authorization.</span></span>

><span data-ttu-id="68076-116">**Observação**: O Explorador do Graph não oferece suporte a autorização no nível de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="68076-116">**Note**: Graph Explorer does not support application-level authorization.</span></span>

<span data-ttu-id="68076-117">Se você estiver chamando as APIs de um aplicativo:</span><span class="sxs-lookup"><span data-stu-id="68076-117">If you're calling the APIs from an application:</span></span>

- <span data-ttu-id="68076-118">O administrador de locatário do Azure AD deve conceder explicitamente o consentimento ao aplicativo.</span><span class="sxs-lookup"><span data-stu-id="68076-118">The Azure AD tenant administrator must explicitly grant consent to your application.</span></span> <span data-ttu-id="68076-119">Isso é necessário para autorização no nível de aplicativo e autorização delegada pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="68076-119">This is required both for application-level authorization and user delegated authorization.</span></span>
- <span data-ttu-id="68076-120">Se você estiver usando uma autorização delegada pelo usuário, o usuário conectado deverá ser membro de uma função de administrador limitada no Azure AD.</span><span class="sxs-lookup"><span data-stu-id="68076-120">If you're using user delegated authorization, the signed-in user must be a member of a limited administrator role in Azure AD.</span></span>

## <a name="assign-azure-ad-roles-to-users"></a><span data-ttu-id="68076-121">Atribuir funções do Microsoft Azure AD aos usuários</span><span class="sxs-lookup"><span data-stu-id="68076-121">Assign Azure AD roles to users</span></span>

<span data-ttu-id="68076-122">Depois que um aplicativo receber permissões, todas as pessoas com acesso ao aplicativo (ou seja, membros do locatário do Azure AD) receberão as permissões concedidas.</span><span class="sxs-lookup"><span data-stu-id="68076-122">After an application is granted permissions, everyone with access to the application (that is, members of the Azure AD tenant) receives the granted permissions.</span></span> <span data-ttu-id="68076-123">Para proteger ainda mais os dados de relatórios confidenciais, os administradores de locatários devem atribuir aos usuários do aplicativo as funções apropriadas do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="68076-123">To further protect sensitive reports data, tenant administrators must assign users of the application the appropriate Azure AD roles.</span></span> <span data-ttu-id="68076-124">Para obter detalhes, confira [Permissões da função de administrador no Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-assign-admin-roles-azure-portal) e [Atribuir funções de administrador e não-administrador aos usuários com o Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-users-assign-role-azure-portal).</span><span class="sxs-lookup"><span data-stu-id="68076-124">For details, see [Administrator role permissions in Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-assign-admin-roles-azure-portal) and [Assign administrator and non-administrator roles to users with Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-users-assign-role-azure-portal).</span></span>

><span data-ttu-id="68076-125">**Observação:** você precisa ser um administrador de locatários para executar esta etapa.</span><span class="sxs-lookup"><span data-stu-id="68076-125">**Note:** You must be a tenant administrator to perform this step.</span></span>

<span data-ttu-id="68076-126">Para atribuir uma função a um usuário:</span><span class="sxs-lookup"><span data-stu-id="68076-126">To assign a role to a user:</span></span>

1. <span data-ttu-id="68076-127">Entre no [portal do Azure](https://portal.azure.com) (https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="68076-127">Sign in to the [Azure portal](https://portal.azure.com) (https://portal.azure.com).</span></span>
2. <span data-ttu-id="68076-128">Clique no ícone no canto superior esquerdo para expandir o menu do portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="68076-128">Click the icon in the top left to expand the Azure portal menu.</span></span> <span data-ttu-id="68076-129">Selecione **Azure Active Directory** > **Usuários**.</span><span class="sxs-lookup"><span data-stu-id="68076-129">Select **Azure Active Directory** > **Users**.</span></span>
3. <span data-ttu-id="68076-130">Clique no nome do usuário.</span><span class="sxs-lookup"><span data-stu-id="68076-130">Click the name of the user.</span></span>
4. <span data-ttu-id="68076-131">Escolha **Funções atribuídas** e, em seguida, **Adicionar atribuição**.</span><span class="sxs-lookup"><span data-stu-id="68076-131">Choose **Assigned roles**, and then **Add assignment**.</span></span>
5. <span data-ttu-id="68076-132">Escolha a função apropriada e clique em **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="68076-132">Select the appropriate role, and click **Add**.</span></span>
