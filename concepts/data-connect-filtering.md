---
title: O Microsoft Graph Data Connect é compatível com a seleção de usuário e filtragem
description: Descreve como usar o Microsoft Graph Data Connect para selecionar os usuários cujos dados serão extraídos e filtrar os dados retornados.
author: tlenig
localization_priority: Priority
ms.prod: data-connect
ms.openlocfilehash: 0c5ec59fc42ed2e5a0b21631dd3c501ae9c4bfe1
ms.sourcegitcommit: 66a52d2e63cf3447ec50bd28e562d99e7c344814
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/31/2020
ms.locfileid: "43062593"
---
# <a name="user-selection-and-filtering-microsoft-graph-data-connect-supports"></a><span data-ttu-id="6a855-103">O Microsoft Graph Data Connect é compatível com a seleção de usuário e filtragem</span><span class="sxs-lookup"><span data-stu-id="6a855-103">User selection and filtering Microsoft Graph data connect supports</span></span>

<span data-ttu-id="6a855-104">Você pode usar o Microsoft Graph Data Connect para selecionar os usuários cujos dados serão extraídos, e para aplicar filtros para limitar os dados retornados.</span><span class="sxs-lookup"><span data-stu-id="6a855-104">You can use Microsoft Graph data connect to select the users that you want to extract data for, and to include filters to limit the data returned.</span></span> <span data-ttu-id="6a855-105">Este artigo descreve as opções que o Data Connect suporta para filtragem e seleção do usuário.</span><span class="sxs-lookup"><span data-stu-id="6a855-105">This article describes the user selection options that data connect provides and the filtering that it supports.</span></span> 

## <a name="user-selection"></a><span data-ttu-id="6a855-106">Seleção de usuário</span><span class="sxs-lookup"><span data-stu-id="6a855-106">User selection</span></span> 

<span data-ttu-id="6a855-107">Você pode executar pipelines em um conjunto de usuários.</span><span class="sxs-lookup"><span data-stu-id="6a855-107">You can run pipelines on a set of users.</span></span> <span data-ttu-id="6a855-108">As opções para seleção de usuário são as seguintes:</span><span class="sxs-lookup"><span data-stu-id="6a855-108">The following are the options for user selection:</span></span>
- <span data-ttu-id="6a855-109">Todos os usuários da organização</span><span class="sxs-lookup"><span data-stu-id="6a855-109">All users within the organization</span></span>
- <span data-ttu-id="6a855-110">Execução em grupos de até dez usuários da organização</span><span class="sxs-lookup"><span data-stu-id="6a855-110">Up to 10 groups of users within the organization to run on</span></span> 
- <span data-ttu-id="6a855-111">Um conjunto de usuários com base em um predicado com as propriedades de usuário do Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="6a855-111">A set of users based on a predicate consisting of Azure Active Directory user properties</span></span>

<span data-ttu-id="6a855-112">Especifique a seleção de usuários em OrigemDoConjuntoDeDados da atividade de cópia do Azure Data Factory.</span><span class="sxs-lookup"><span data-stu-id="6a855-112">Specify your user selection in the SourceDataSet of the Azure Data Factory copy activity.</span></span> <span data-ttu-id="6a855-113">Para executar em uma lista de grupos, adicione um novo campo **GruposPermitidos** em **PropriedadesDoTipo** e aplique essa definição para uma lista de até dez **IDs de objeto** de um grupo, separados por vírgulas.</span><span class="sxs-lookup"><span data-stu-id="6a855-113">To run on a list of groups, add a new field **allowedGroups** under **typeProperties** and set this to a list of up to 10 groups' **Object Ids** separated by commas.</span></span> <span data-ttu-id="6a855-114">Se nenhum grupo for especificado por padrão, os dados serão extraídos da organização inteira.</span><span class="sxs-lookup"><span data-stu-id="6a855-114">If no groups are specified by default, data will be extracted for the entire organization.</span></span> 

<span data-ttu-id="6a855-115">Para especificar um predicado para executar no locatário inteiro, adicione um novo campo **EscopoDeFiltroUriDoUsuário** em **PropriedadesDoTipo** e o defina no predicado.</span><span class="sxs-lookup"><span data-stu-id="6a855-115">To specify a predicate to run on the entire tenant, add a new field **userScopeFilterUri** under **typeProperties** and set this to the predicate.</span></span> <span data-ttu-id="6a855-116">O formato do predicado deve coincidir com o formato de consulta de APIs do Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="6a855-116">The predicate format should match the query format of Microsoft Graph APIs.</span></span> <span data-ttu-id="6a855-117">Se você quiser limitar a seleção para os usuários que funcionam no departamento de finanças, você pode usar `https://graph.microsoft.com/v1.0/users?$filter=Department eq 'Finance'`, por exemplo.</span><span class="sxs-lookup"><span data-stu-id="6a855-117">For example, if you want to limit the selection to users who work in the Finance department, you can use `https://graph.microsoft.com/v1.0/users?$filter=Department eq 'Finance'`.</span></span> <span data-ttu-id="6a855-118">Se desejar limitar a seleção a um usuário, você pode usar o `https://graph.microsoft.com/v1.0/users?$filter=mail eq 'contosouser1@contoso.com'`.</span><span class="sxs-lookup"><span data-stu-id="6a855-118">If you want to limit the selection to one user, you can use `https://graph.microsoft.com/v1.0/users?$filter=mail eq 'contosouser1@contoso.com'`.</span></span>

<span data-ttu-id="6a855-119">A consulta retornará somente usuários dentro da organização do Office 365 que você está pesquisando.</span><span class="sxs-lookup"><span data-stu-id="6a855-119">Your query will only return users within the Office 365 organization that you're querying.</span></span> <span data-ttu-id="6a855-120">Os usuários convidados e caixas de correio que não são de usuários não serão retornadas.</span><span class="sxs-lookup"><span data-stu-id="6a855-120">Guest users and non-user mailboxes will not be returned.</span></span>

## <a name="filtering"></a><span data-ttu-id="6a855-121">Filtragem</span><span class="sxs-lookup"><span data-stu-id="6a855-121">Filtering</span></span> 

<span data-ttu-id="6a855-122">Você pode limitar os resultados extraídos de sua consulta usando as propriedades de data e hora.</span><span class="sxs-lookup"><span data-stu-id="6a855-122">You can limit the results extracted for your query using DateTime properties.</span></span> <span data-ttu-id="6a855-123">Dependendo do tipo de dado solicitado, talvez seja necessário um filtro de data e hora.</span><span class="sxs-lookup"><span data-stu-id="6a855-123">Depending on the type of data requested, a DateTime filter might be required.</span></span> <span data-ttu-id="6a855-124">O filtro de data e hora é fornecido usando as propriedades OrigemDoConjuntoDeDados da atividade de cópia do Azure Data Factory.</span><span class="sxs-lookup"><span data-stu-id="6a855-124">The DateTime filter is provided using properties in the SourceDataSet of the Azure Data Factory copy activity.</span></span> <span data-ttu-id="6a855-125">Para especificar um filtro de data e hora, adicione um novo campo **FiltroDeColunaDeData** em **PropriedadesDoTipo** e aplique essa definição para uma das propriedades de suporte à filtragem na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="6a855-125">To specify a DateTime filter, add a new field **dateFilterColumn** under **typeProperties** and set this to one of the properties that support filtering in the following table.</span></span> <span data-ttu-id="6a855-126">Em seguida, adicione uma **hora de início** e **hora de término** que representam os valores de data e hora que a propriedade será filtrada.</span><span class="sxs-lookup"><span data-stu-id="6a855-126">Next, add a **startTime** and **endTime** that represent the DateTime values that the property will be filtered upon.</span></span> 

<span data-ttu-id="6a855-127">Os conjuntos de dados a seguir exigem que um filtro seja fornecido em uma das propriedades de data e hora correspondentes.</span><span class="sxs-lookup"><span data-stu-id="6a855-127">The following datasets require a filter to be provided on one of the corresponding DateTime properties.</span></span>

| <span data-ttu-id="6a855-128">Nome do conjunto de dados</span><span class="sxs-lookup"><span data-stu-id="6a855-128">Dataset name</span></span>                                                   | <span data-ttu-id="6a855-129">Propriedades de suporte à filtragem</span><span class="sxs-lookup"><span data-stu-id="6a855-129">Properties that support filtering</span></span>                                           | 
|----------------------------------------------------------------|-----------------------------------------------------------------------------| 
| <span data-ttu-id="6a855-130">BasicDataSet_v0.Event_v0</span><span class="sxs-lookup"><span data-stu-id="6a855-130">BasicDataSet_v0.Event_v0</span></span><br><span data-ttu-id="6a855-131">BasicDataSet_v0.Event_v1</span><span class="sxs-lookup"><span data-stu-id="6a855-131">BasicDataSet_v0.Event_v1</span></span>           | <span data-ttu-id="6a855-132">DataeHoraDaCriação</span><span class="sxs-lookup"><span data-stu-id="6a855-132">CreatedDateTime</span></span><br><span data-ttu-id="6a855-133">DataeHoraDaÚltimaModificação</span><span class="sxs-lookup"><span data-stu-id="6a855-133">LastModifiedDateTime</span></span>                                     | 
| <span data-ttu-id="6a855-134">BasicDataSet_v0.Message_v0</span><span class="sxs-lookup"><span data-stu-id="6a855-134">BasicDataSet_v0.Message_v0</span></span><br><span data-ttu-id="6a855-135">BasicDataSet_v0.Message_v1</span><span class="sxs-lookup"><span data-stu-id="6a855-135">BasicDataSet_v0.Message_v1</span></span>       | <span data-ttu-id="6a855-136">DataeHoraDaCriação</span><span class="sxs-lookup"><span data-stu-id="6a855-136">CreatedDateTime</span></span><br><span data-ttu-id="6a855-137">DataeHoraDaÚltimaModificação</span><span class="sxs-lookup"><span data-stu-id="6a855-137">LastModifiedDateTime</span></span><br><span data-ttu-id="6a855-138">DataeHoraRecebida</span><span class="sxs-lookup"><span data-stu-id="6a855-138">ReceivedDateTime</span></span><br><span data-ttu-id="6a855-139">DataeHoraEnviada</span><span class="sxs-lookup"><span data-stu-id="6a855-139">SentDateTime</span></span> | 
| <span data-ttu-id="6a855-140">BasicDataSet_v0.SentItem_v0</span><span class="sxs-lookup"><span data-stu-id="6a855-140">BasicDataSet_v0.SentItem_v0</span></span><br><span data-ttu-id="6a855-141">BasicDataSet_v0.SentItem_v1</span><span class="sxs-lookup"><span data-stu-id="6a855-141">BasicDataSet_v0.SentItem_v1</span></span>     | <span data-ttu-id="6a855-142">DataeHoraDaCriação</span><span class="sxs-lookup"><span data-stu-id="6a855-142">CreatedDateTime</span></span><br><span data-ttu-id="6a855-143">DataeHoraDaÚltimaModificação</span><span class="sxs-lookup"><span data-stu-id="6a855-143">LastModifiedDateTime</span></span><br><span data-ttu-id="6a855-144">DataeHoraRecebida</span><span class="sxs-lookup"><span data-stu-id="6a855-144">ReceivedDateTime</span></span><br><span data-ttu-id="6a855-145">DataeHoraEnviada</span><span class="sxs-lookup"><span data-stu-id="6a855-145">SentDateTime</span></span> |

><span data-ttu-id="6a855-146">**Observação** Os pipelines que solicitam BasicDataSet_v0.CalendarView_v0 também exigem um filtro de data e hora, mas nenhum **FiltroDeColunaDeData** é especificado na OrigemDoConjuntoDeDados.</span><span class="sxs-lookup"><span data-stu-id="6a855-146">**Note** Pipelines requesting BasicDataSet_v0.CalendarView_v0 also require a DateTime filter, but no **dateFilterColumn** is specified in the SourceDataSet.</span></span> <span data-ttu-id="6a855-147">No entanto, uma **hora de início** e **hora de término** são obrigatórios e somente eventos que começam após a **hora de início** e que terminam antes da **hora de término** são fornecidos.</span><span class="sxs-lookup"><span data-stu-id="6a855-147">However, a **startTime** and **endTime** are required and only events that begin after the **startTime** and finish before the **endTime** are provided.</span></span>

## <a name="next-steps"></a><span data-ttu-id="6a855-148">Próximos passos</span><span class="sxs-lookup"><span data-stu-id="6a855-148">Next Steps</span></span> 

<span data-ttu-id="6a855-149">Para saber mais sobre como modificar o usuário selecionado para extração e filtragem nos pipelines do Data Connect, confira a [documentação do conector do Office 365 do Azure Data Factory](https://docs.microsoft.com/azure/data-factory/connector-office-365).</span><span class="sxs-lookup"><span data-stu-id="6a855-149">For more information about how to modify the user selected for extractoin and filtering in data connect pipelines, see the [Azure Data Factory Office 365 connector documentation](https://docs.microsoft.com/azure/data-factory/connector-office-365).</span></span>  

  
