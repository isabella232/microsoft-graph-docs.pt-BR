---
title: O Microsoft Graph Data Connect é compatível com a seleção de usuário e filtragem
description: Descreve como usar o Microsoft Graph Data Connect para selecionar os usuários cujos dados serão extraídos e filtrar os dados retornados.
author: tlenig
localization_priority: Priority
ms.prod: data-connect
ms.openlocfilehash: 0aab5ac3806eeda54364dff6ae0b6995098da953
ms.sourcegitcommit: b1e1f614299f668453916bd85761ef7b6c8d6eff
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/05/2019
ms.locfileid: "37969190"
---
# <a name="user-selection-and-filtering-microsoft-graph-data-connect-supports"></a><span data-ttu-id="124f5-103">O Microsoft Graph Data Connect é compatível com a seleção de usuário e filtragem</span><span class="sxs-lookup"><span data-stu-id="124f5-103">User selection and filtering Microsoft Graph data connect supports</span></span>

<span data-ttu-id="124f5-104">Você pode usar o Microsoft Graph Data Connect para selecionar os usuários cujos dados serão extraídos, e para aplicar filtros para limitar os dados retornados.</span><span class="sxs-lookup"><span data-stu-id="124f5-104">You can use Microsoft Graph data connect to select the users that you want to extract data for, and to include filters to limit the data returned.</span></span> <span data-ttu-id="124f5-105">Este artigo descreve as opções que o Data Connect suporta para filtragem e seleção do usuário.</span><span class="sxs-lookup"><span data-stu-id="124f5-105">This article describes the user selection options that data connect provides and the filtering that it supports.</span></span> 

## <a name="user-selection"></a><span data-ttu-id="124f5-106">Seleção de usuário</span><span class="sxs-lookup"><span data-stu-id="124f5-106">User selection</span></span> 

<span data-ttu-id="124f5-107">Você pode executar pipelines em um conjunto de usuários.</span><span class="sxs-lookup"><span data-stu-id="124f5-107">You can run pipelines on a set of users.</span></span> <span data-ttu-id="124f5-108">As opções para seleção de usuário são as seguintes:</span><span class="sxs-lookup"><span data-stu-id="124f5-108">The following are the options for user selection:</span></span>
- <span data-ttu-id="124f5-109">Todos os usuários da organização</span><span class="sxs-lookup"><span data-stu-id="124f5-109">All users within the organization</span></span>
- <span data-ttu-id="124f5-110">Execução em grupos de até dez usuários da organização</span><span class="sxs-lookup"><span data-stu-id="124f5-110">Up to 10 groups of users within the organization to run on</span></span> 
- <span data-ttu-id="124f5-111">Um conjunto de usuários com base em um predicado com as propriedades de usuário do Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="124f5-111">A set of users based on a predicate consisting of Azure Active Directory user properties</span></span>

<span data-ttu-id="124f5-112">Especifique a seleção de usuários em OrigemDoConjuntoDeDados da atividade de cópia do Azure Data Factory.</span><span class="sxs-lookup"><span data-stu-id="124f5-112">Specify your user selection in the SourceDataSet of the Azure Data Factory copy activity.</span></span> <span data-ttu-id="124f5-113">Para executar em uma lista de grupos, adicione um novo campo **GruposPermitidos** em **PropriedadesDoTipo** e aplique essa definição para uma lista de até dez **IDs de objeto** de um grupo, separados por vírgulas.</span><span class="sxs-lookup"><span data-stu-id="124f5-113">To run on a list of groups, add a new field **allowedGroups** under **typeProperties** and set this to a list of up to 10 groups' **Object Ids** separated by commas.</span></span> <span data-ttu-id="124f5-114">Se nenhum grupo for especificado por padrão, os dados serão extraídos da organização inteira.</span><span class="sxs-lookup"><span data-stu-id="124f5-114">If no groups are specified by default, data will be extracted for the entire organization.</span></span> 

<span data-ttu-id="124f5-115">Para especificar um predicado para executar no locatário inteiro, adicione um novo campo **EscopoDeFiltroUriDoUsuário** em **PropriedadesDoTipo** e o defina no predicado.</span><span class="sxs-lookup"><span data-stu-id="124f5-115">To specify a predicate to run on the entire tenant, add a new field **userScopeFilterUri** under **typeProperties** and set this to the predicate.</span></span> <span data-ttu-id="124f5-116">O formato do predicado deve coincidir com o formato de consulta de APIs do Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="124f5-116">The predicate format should match the query format of Microsoft Graph APIs.</span></span> <span data-ttu-id="124f5-117">Se você quiser limitar a seleção para os usuários que funcionam no departamento de finanças, você pode usar `https://graph.microsoft.com/v1.0/users?$filter=Department eq 'Finance'`, por exemplo.</span><span class="sxs-lookup"><span data-stu-id="124f5-117">For example, if you want to limit the selection to users who work in the Finance department, you can use `https://graph.microsoft.com/v1.0/users?$filter=Department eq 'Finance'`.</span></span>

<span data-ttu-id="124f5-118">A consulta retornará somente usuários dentro da organização do Office 365 que você está pesquisando.</span><span class="sxs-lookup"><span data-stu-id="124f5-118">Your query will only return users within the Office 365 organization that you're querying.</span></span> <span data-ttu-id="124f5-119">Os usuários convidados e caixas de correio que não são de usuários não serão retornadas.</span><span class="sxs-lookup"><span data-stu-id="124f5-119">Guest users and non-user mailboxes will not be returned.</span></span>

## <a name="filtering"></a><span data-ttu-id="124f5-120">Filtragem</span><span class="sxs-lookup"><span data-stu-id="124f5-120">Filtering</span></span> 

<span data-ttu-id="124f5-121">Você pode limitar os resultados extraídos de sua consulta usando as propriedades de data e hora.</span><span class="sxs-lookup"><span data-stu-id="124f5-121">You can limit the results extracted for your query using DateTime properties.</span></span> <span data-ttu-id="124f5-122">Dependendo do tipo de dado solicitado, talvez seja necessário um filtro de data e hora.</span><span class="sxs-lookup"><span data-stu-id="124f5-122">Depending on the type of data requested, a DateTime filter might be required.</span></span> <span data-ttu-id="124f5-123">O filtro de data e hora é fornecido usando as propriedades OrigemDoConjuntoDeDados da atividade de cópia do Azure Data Factory.</span><span class="sxs-lookup"><span data-stu-id="124f5-123">The DateTime filter is provided using properties in the SourceDataSet of the Azure Data Factory copy activity.</span></span> <span data-ttu-id="124f5-124">Para especificar um filtro de data e hora, adicione um novo campo **FiltroDeColunaDeData** em **PropriedadesDoTipo** e aplique essa definição para uma das propriedades de suporte à filtragem na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="124f5-124">To specify a DateTime filter, add a new field **dateFilterColumn** under **typeProperties** and set this to one of the properties that support filtering in the following table.</span></span> <span data-ttu-id="124f5-125">Em seguida, adicione uma **hora de início** e **hora de término** que representam os valores de data e hora que a propriedade será filtrada.</span><span class="sxs-lookup"><span data-stu-id="124f5-125">Next, add a **startTime** and **endTime** that represent the DateTime values that the property will be filtered upon.</span></span> 

<span data-ttu-id="124f5-126">Os conjuntos de dados a seguir exigem que um filtro seja fornecido em uma das propriedades de data e hora correspondentes.</span><span class="sxs-lookup"><span data-stu-id="124f5-126">The following datasets require a filter to be provided on one of the corresponding DateTime properties.</span></span>

| <span data-ttu-id="124f5-127">Nome do conjunto de dados</span><span class="sxs-lookup"><span data-stu-id="124f5-127">Dataset name</span></span>                                                   | <span data-ttu-id="124f5-128">Propriedades de suporte à filtragem</span><span class="sxs-lookup"><span data-stu-id="124f5-128">Properties that support filtering</span></span>                                           | 
|----------------------------------------------------------------|-----------------------------------------------------------------------------| 
| <span data-ttu-id="124f5-129">BasicDataSet_v0.Event_v0</span><span class="sxs-lookup"><span data-stu-id="124f5-129">BasicDataSet_v0.Event_v0</span></span><br><span data-ttu-id="124f5-130">BasicDataSet_v0.Event_v1</span><span class="sxs-lookup"><span data-stu-id="124f5-130">BasicDataSet_v0.Event_v1</span></span>           | <span data-ttu-id="124f5-131">DataeHoraDaCriação</span><span class="sxs-lookup"><span data-stu-id="124f5-131">CreatedDateTime</span></span><br><span data-ttu-id="124f5-132">DataeHoraDaÚltimaModificação</span><span class="sxs-lookup"><span data-stu-id="124f5-132">LastModifiedDateTime</span></span>                                     | 
| <span data-ttu-id="124f5-133">BasicDataSet_v0.Message_v0</span><span class="sxs-lookup"><span data-stu-id="124f5-133">BasicDataSet_v0.Message_v0</span></span><br><span data-ttu-id="124f5-134">BasicDataSet_v0.Message_v1</span><span class="sxs-lookup"><span data-stu-id="124f5-134">BasicDataSet_v0.Message_v1</span></span>       | <span data-ttu-id="124f5-135">DataeHoraDaCriação</span><span class="sxs-lookup"><span data-stu-id="124f5-135">CreatedDateTime</span></span><br><span data-ttu-id="124f5-136">DataeHoraDaÚltimaModificação</span><span class="sxs-lookup"><span data-stu-id="124f5-136">LastModifiedDateTime</span></span><br><span data-ttu-id="124f5-137">DataeHoraRecebida</span><span class="sxs-lookup"><span data-stu-id="124f5-137">ReceivedDateTime</span></span><br><span data-ttu-id="124f5-138">DataeHoraEnviada</span><span class="sxs-lookup"><span data-stu-id="124f5-138">SentDateTime</span></span> | 
| <span data-ttu-id="124f5-139">BasicDataSet_v0.SentItem_v0</span><span class="sxs-lookup"><span data-stu-id="124f5-139">BasicDataSet_v0.SentItem_v0</span></span><br><span data-ttu-id="124f5-140">BasicDataSet_v0.SentItem_v1</span><span class="sxs-lookup"><span data-stu-id="124f5-140">BasicDataSet_v0.SentItem_v1</span></span>     | <span data-ttu-id="124f5-141">DataeHoraDaCriação</span><span class="sxs-lookup"><span data-stu-id="124f5-141">CreatedDateTime</span></span><br><span data-ttu-id="124f5-142">DataeHoraDaÚltimaModificação</span><span class="sxs-lookup"><span data-stu-id="124f5-142">LastModifiedDateTime</span></span><br><span data-ttu-id="124f5-143">DataeHoraRecebida</span><span class="sxs-lookup"><span data-stu-id="124f5-143">ReceivedDateTime</span></span><br><span data-ttu-id="124f5-144">DataeHoraEnviada</span><span class="sxs-lookup"><span data-stu-id="124f5-144">SentDateTime</span></span> |

><span data-ttu-id="124f5-145">**Observação** Os pipelines que solicitam BasicDataSet_v0.CalendarView_v0 também exigem um filtro de data e hora, mas nenhum **FiltroDeColunaDeData** é especificado na OrigemDoConjuntoDeDados.</span><span class="sxs-lookup"><span data-stu-id="124f5-145">**Note** Pipelines requesting BasicDataSet_v0.CalendarView_v0 also require a DateTime filter, but no **dateFilterColumn** is specified in the SourceDataSet.</span></span> <span data-ttu-id="124f5-146">No entanto, uma **hora de início** e **hora de término** são obrigatórios e somente eventos que começam após a **hora de início** e que terminam antes da **hora de término** são fornecidos.</span><span class="sxs-lookup"><span data-stu-id="124f5-146">However, a **startTime** and **endTime** are required and only events that begin after the **startTime** and finish before the **endTime** are provided.</span></span>

## <a name="next-steps"></a><span data-ttu-id="124f5-147">Próximos passos</span><span class="sxs-lookup"><span data-stu-id="124f5-147">Next Steps</span></span> 

<span data-ttu-id="124f5-148">Para saber mais sobre como modificar o usuário selecionado para extração e filtragem nos pipelines do Data Connect, confira a [documentação do conector do Office 365 do Azure Data Factory](https://docs.microsoft.com/azure/data-factory/connector-office-365).</span><span class="sxs-lookup"><span data-stu-id="124f5-148">For more information about how to modify the user selected for extractoin and filtering in data connect pipelines, see the [Azure Data Factory Office 365 connector documentation](https://docs.microsoft.com/azure/data-factory/connector-office-365).</span></span>  

  
