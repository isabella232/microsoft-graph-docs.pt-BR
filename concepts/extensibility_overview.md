# <a name="add-custom-data-to-resources-using-extensions"></a><span data-ttu-id="5ccdf-101">Adicionar dados personalizados a recursos usando extensões</span><span class="sxs-lookup"><span data-stu-id="5ccdf-101">Add custom data to resources using extensions</span></span>

<span data-ttu-id="5ccdf-p101">O Microsoft Graph fornece um único ponto de extremidade de API que lhe dá acesso a dados e insights avançados centrados em pessoas através de uma série de recursos, como [usuário](../api-reference/v1.0/resources/user.md) e [mensagem](../api-reference/v1.0/resources/message.md). Agora há uma maneira de _**estender**_ o Microsoft Graph com seus próprios dados de aplicativo. Você pode adicionar propriedades personalizadas aos recursos do Microsoft Graph sem a necessidade de um repositório de dados externos.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-p101">Microsoft Graph provides a single API endpoint that gives you access to rich people-centric data and insights through a number of resources such as [user](../api-reference/v1.0/resources/user.md) and [message](../api-reference/v1.0/resources/message.md). There's now a way for you to _**extend**_ Microsoft Graph with your own application data. You can add custom properties to Microsoft Graph resources without requiring an external data store.</span></span> 

<span data-ttu-id="5ccdf-105">Por exemplo, você pode decidir manter seu aplicativo leve e armazenar dados de perfil de usuário específicos do aplicativo no Microsoft Graph estendendo o recurso **user**.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-105">For example, you might decide to keep your app lightweight and store app-specific user profile data in Microsoft Graph by extending the **user** resource.</span></span> <span data-ttu-id="5ccdf-106">Como alternativa, convém manter o repositório de perfil de usuário existente do aplicativo e simplesmente adicionar um identificador de repositório específico do aplicativo para o recurso **user**.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-106">Alternatively, you might want to retain your app’s existing user profile store, and simply add an app-specific store identifier to the **user** resource.</span></span>

<span data-ttu-id="5ccdf-p103">O Microsoft Graph oferece dois tipos de extensões. Escolha o tipo de extensão mais adequado às suas necessidades de aplicativo:</span><span class="sxs-lookup"><span data-stu-id="5ccdf-p103">Microsoft Graph offers two types of extensions. Choose the extension type that best suits your application needs:</span></span>

- <span data-ttu-id="5ccdf-109">**Extensões abertas**: Um bom ponto de partida para os desenvolvedores.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-109">**Open extensions**: A good way for developers to get started.</span></span>
- <span data-ttu-id="5ccdf-110">**Extensões de esquema**: Um mecanismo mais versátil para desenvolvedores que se preocupam em armazenar dados digitados, tornando seu esquema detectável e compartilhável, ser capaz de filtrar e futuramente executar a validação de dados de entrada e a autorização.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-110">**Schema extensions**: A more versatile mechanism for developers who care about storing typed data, making their schema discoverable and shareable, being able to filter, and in the future, being able to perform input data validation and authorization.</span></span>

> <span data-ttu-id="5ccdf-111">**Importante:** Você não deve usar extensões para armazenar informações de identificação pessoal confidenciais, como credenciais de conta, números de identificação do governo, dados do titular do cartão, dados de conta corrente, informações médicas ou informações básicas confidenciais.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-111">**Important:** You should not use extensions to store sensitive personally identifiable information, such as account credentials, government identification numbers, cardholder data, financial account data, healthcare information, or sensitive background information.</span></span>

## <a name="supported-resources"></a><span data-ttu-id="5ccdf-112">Recursos com suporte</span><span class="sxs-lookup"><span data-stu-id="5ccdf-112">Supported resources</span></span>

<span data-ttu-id="5ccdf-113">A seguinte tabela lista os recursos que oferecem suporte às extensões de abertura e esquema e indica se eles atingiram ou não a disponibilidade geral (GA - disponível em ambos os pontos de extremidade V1.0 e beta) ou se estão como prévia (disponível apenas no ponto de extremidade beta).</span><span class="sxs-lookup"><span data-stu-id="5ccdf-113">The following table lists the resources that support open and schema extensions, and indicates whether they have reached general availability (GA - available in both the v1.0 and beta endpoints) or are in preview (available only in the beta endpoint).</span></span>  

|<span data-ttu-id="5ccdf-114">Recurso</span><span class="sxs-lookup"><span data-stu-id="5ccdf-114">Resource</span></span> |<span data-ttu-id="5ccdf-115">Extensões abertas</span><span class="sxs-lookup"><span data-stu-id="5ccdf-115">Open extensions</span></span> |<span data-ttu-id="5ccdf-116">Extensões de esquema</span><span class="sxs-lookup"><span data-stu-id="5ccdf-116">Schema extensions</span></span> |
|:------- |:------ |:------ |
| [<span data-ttu-id="5ccdf-117">Unidade administrativa</span><span class="sxs-lookup"><span data-stu-id="5ccdf-117">Administrative unit</span></span>](../api-reference/beta/resources/administrativeunit.md) | <span data-ttu-id="5ccdf-118">Somente para visualização</span><span class="sxs-lookup"><span data-stu-id="5ccdf-118">Preview only</span></span> | <span data-ttu-id="5ccdf-119">Somente para visualização</span><span class="sxs-lookup"><span data-stu-id="5ccdf-119">Preview only</span></span> |
| [<span data-ttu-id="5ccdf-120">Evento de calendário</span><span class="sxs-lookup"><span data-stu-id="5ccdf-120">Calendar event</span></span>](../api-reference/v1.0/resources/event.md) | <span data-ttu-id="5ccdf-121">GA</span><span class="sxs-lookup"><span data-stu-id="5ccdf-121">GA</span></span> | <span data-ttu-id="5ccdf-122">GA</span><span class="sxs-lookup"><span data-stu-id="5ccdf-122">GA</span></span> |
| [<span data-ttu-id="5ccdf-123">Dispositivo</span><span class="sxs-lookup"><span data-stu-id="5ccdf-123">Device</span></span>](../api-reference/v1.0/resources/device.md) | <span data-ttu-id="5ccdf-124">GA</span><span class="sxs-lookup"><span data-stu-id="5ccdf-124">GA</span></span> | <span data-ttu-id="5ccdf-125">GA</span><span class="sxs-lookup"><span data-stu-id="5ccdf-125">GA</span></span> |
| [<span data-ttu-id="5ccdf-126">Grupo</span><span class="sxs-lookup"><span data-stu-id="5ccdf-126">Group</span></span>](../api-reference/v1.0/resources/group.md) | <span data-ttu-id="5ccdf-127">GA</span><span class="sxs-lookup"><span data-stu-id="5ccdf-127">GA</span></span> | <span data-ttu-id="5ccdf-128">GA</span><span class="sxs-lookup"><span data-stu-id="5ccdf-128">GA</span></span> |
| [<span data-ttu-id="5ccdf-129">Evento de calendário do grupo</span><span class="sxs-lookup"><span data-stu-id="5ccdf-129">Group calendar event</span></span>](../api-reference/v1.0/resources/event.md) | <span data-ttu-id="5ccdf-130">GA</span><span class="sxs-lookup"><span data-stu-id="5ccdf-130">GA</span></span> | <span data-ttu-id="5ccdf-131">GA</span><span class="sxs-lookup"><span data-stu-id="5ccdf-131">GA</span></span> |
| [<span data-ttu-id="5ccdf-132">Postagem de conversa em grupo</span><span class="sxs-lookup"><span data-stu-id="5ccdf-132">Group conversation post</span></span>](../api-reference/v1.0/resources/post.md) | <span data-ttu-id="5ccdf-133">GA</span><span class="sxs-lookup"><span data-stu-id="5ccdf-133">GA</span></span> | <span data-ttu-id="5ccdf-134">GA</span><span class="sxs-lookup"><span data-stu-id="5ccdf-134">GA</span></span> |
| [<span data-ttu-id="5ccdf-135">Mensagem</span><span class="sxs-lookup"><span data-stu-id="5ccdf-135">Message</span></span>](../api-reference/v1.0/resources/message.md) | <span data-ttu-id="5ccdf-136">GA</span><span class="sxs-lookup"><span data-stu-id="5ccdf-136">GA</span></span> | <span data-ttu-id="5ccdf-137">GA</span><span class="sxs-lookup"><span data-stu-id="5ccdf-137">GA</span></span> |
| [<span data-ttu-id="5ccdf-138">Organização</span><span class="sxs-lookup"><span data-stu-id="5ccdf-138">Organization</span></span>](../api-reference/v1.0/resources/organization.md) | <span data-ttu-id="5ccdf-139">GA</span><span class="sxs-lookup"><span data-stu-id="5ccdf-139">GA</span></span> | <span data-ttu-id="5ccdf-140">GA</span><span class="sxs-lookup"><span data-stu-id="5ccdf-140">GA</span></span> |
| [<span data-ttu-id="5ccdf-141">Contato pessoal</span><span class="sxs-lookup"><span data-stu-id="5ccdf-141">Personal contact</span></span>](../api-reference/v1.0/resources/contact.md)| <span data-ttu-id="5ccdf-142">GA</span><span class="sxs-lookup"><span data-stu-id="5ccdf-142">GA</span></span> | <span data-ttu-id="5ccdf-143">GA</span><span class="sxs-lookup"><span data-stu-id="5ccdf-143">GA</span></span> |
| [<span data-ttu-id="5ccdf-144">Usuário</span><span class="sxs-lookup"><span data-stu-id="5ccdf-144">User</span></span>](../api-reference/v1.0/resources/user.md) | <span data-ttu-id="5ccdf-145">GA</span><span class="sxs-lookup"><span data-stu-id="5ccdf-145">GA</span></span> | <span data-ttu-id="5ccdf-146">GA</span><span class="sxs-lookup"><span data-stu-id="5ccdf-146">GA</span></span> |

<span data-ttu-id="5ccdf-147">Você pode usar extensões em todos esses recursos ao se conectar com uma conta corporativa ou de estudante.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-147">You can use extensions on all these resources when signed-in with a work or school account.</span></span> <span data-ttu-id="5ccdf-148">Além disso, você pode usar extensões desses recursos–**evento**, **postar**, **grupo**, **mensagem**, **contato** e **usuário**–quando conectado com uma conta pessoal.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-148">In addition, you can use extensions on these resources—**event**, **post**, **group**, **message**, **contact**, and **user**—when signed in with a personal account.</span></span> 

## <a name="open-extensions"></a><span data-ttu-id="5ccdf-149">Extensões abertas</span><span class="sxs-lookup"><span data-stu-id="5ccdf-149">Open extensions</span></span>

<span data-ttu-id="5ccdf-150">[Extensões abertas](../api-reference/v1.0/resources/opentypeextension.md) (anteriormente conhecidas como extensões de dados do Office 365) são [tipos abertos](http://www.odata.org/getting-started/advanced-tutorial/#openType) que oferecem uma maneira flexível de adicionar dados de aplicativo não tipados diretamente a uma instância do recurso.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-150">[Open extensions](../api-reference/v1.0/resources/opentypeextension.md) (formerly known as Office 365 data extensions) are [open types](http://www.odata.org/getting-started/advanced-tutorial/#openType) that offer a flexible way to add untyped app data directly to a resource instance.</span></span> 

<span data-ttu-id="5ccdf-151">As extensões abertas, juntamente com seus dados personalizados, podem ser acessadas por meio da propriedade de navegação **extensões** da instância do recurso.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-151">Open extensions, together with their custom data, are accessible through the **extensions** navigation property of the resource instance.</span></span>
<span data-ttu-id="5ccdf-152">A propriedade **extensionName** é a única propriedade _predefinida_ gravável em uma extensão aberta.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-152">The **extensionName** property is the only _pre-defined_, writable property in an open extension.</span></span> <span data-ttu-id="5ccdf-153">Ao criar uma extensão aberta, você deve atribuir à propriedade **extensionName** um nome exclusivo no locatário.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-153">When creating an open extension, you must assign the **extensionName** property a name that is unique within the tenant.</span></span> 

<span data-ttu-id="5ccdf-154">Uma maneira de fazer isso é usar um formato DNS (sistema de nomes de domínio) inverso que seja dependente de _seu próprio domínio_, por exemplo, `Com.Contoso.ContactInfo`.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-154">One way to do this is to use a reverse domain name system (DNS) format that is dependent on _your own domain_, for example, `Com.Contoso.ContactInfo`.</span></span> 

<span data-ttu-id="5ccdf-155">Não use o domínio Microsoft (`Com.Microsoft` ou `Com.OnMicrosoft`) em um nome de extensão.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-155">Do not use the Microsoft domain (`Com.Microsoft` or `Com.OnMicrosoft`) in an extension name.</span></span>

<span data-ttu-id="5ccdf-156">Você pode [criar uma extensão aberta](../api-reference/v1.0/api/opentypeextension_post_opentypeextension.md) em uma instância de recurso e armazenar dados personalizados nela, tudo na mesma operação (observe a [limitação conhecida](known_issues.md#extensions) para alguns dos recursos suportados).</span><span class="sxs-lookup"><span data-stu-id="5ccdf-156">You can [create an open extension](../api-reference/v1.0/api/opentypeextension_post_opentypeextension.md) in a resource instance and store custom data to it all in the same operation (note [known limitation](known_issues.md#extensions) for some of the supported resources).</span></span>

<span data-ttu-id="5ccdf-157">Você pode posteriormente [ler](../api-reference/v1.0/api/opentypeextension_get.md), [atualizar](../api-reference/v1.0/api/opentypeextension_update.md) ou [excluir](../api-reference/v1.0/api/opentypeextension_delete.md) a extensão e seus dados.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-157">You can subsequently [read](../api-reference/v1.0/api/opentypeextension_get.md), [update](../api-reference/v1.0/api/opentypeextension_update.md), or [delete](../api-reference/v1.0/api/opentypeextension_delete.md) the extension and its data.</span></span>

<span data-ttu-id="5ccdf-158">Exemplo de extensão aberta: [Adicionar dados personalizados aos usuários usando extensões abertas](extensibility_open_users.md)</span><span class="sxs-lookup"><span data-stu-id="5ccdf-158">Open extension example: [Add custom data to users using open extensions](extensibility_open_users.md)</span></span>

## <a name="schema-extensions"></a><span data-ttu-id="5ccdf-159">Extensões de esquema</span><span class="sxs-lookup"><span data-stu-id="5ccdf-159">Schema extensions</span></span>

<span data-ttu-id="5ccdf-p106">[As extensões de esquema](../api-reference/v1.0/resources/schemaextension.md) permitem que você defina um esquema que você pode usar para estender um tipo de recurso. Primeiro, crie a definição de extensão de esquema. Em seguida, use-a para estender instâncias de recurso com dados personalizados fortemente tipados. Além disso, você pode controlar o [status](#schema-extensions-lifecycle) da extensão de esquema e permitir que ela seja descoberta por outros aplicativos. Esses aplicativos, por sua vez, podem usar a extensão para seus dados e criar experiências adicionais nela.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-p106">[Schema extensions](../api-reference/v1.0/resources/schemaextension.md) allow you to define a schema that you can use to extend a resource type. First, you create your schema extension definition. Then, use it to extend resource instances with strongly-typed custom data. In addition, you can control the [status](#schema-extensions-lifecycle) of your schema extension and let it be discoverable by other apps. These apps can in turn use the extension for their data and build further experiences on top of it.</span></span>

<span data-ttu-id="5ccdf-165">Ao criar uma definição de extensão de esquema, você deve fornecer um nome exclusivo para sua **id**. Há duas opções de nomes:</span><span class="sxs-lookup"><span data-stu-id="5ccdf-165">When creating a schema extension definition, you must provide a unique name for its **id**. There are two naming options:</span></span>

- <span data-ttu-id="5ccdf-166">Se já tiver um domínio personalizado `.com`,`.net`, `.gov`, `.edu` ou `.org` que verificou com seu locatário, você poderá usar o nome de domínio com o nome de esquema para definir um nome exclusivo, neste formato: \{_&#65279;nomedoDomínio_\}\_\{_&#65279;nomedoEsquema_\}.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-166">If you already have a vanity `.com`,`.net`, `.gov`, `.edu` or a `.org` domain that you have verified with your tenant, you can use the domain name along with the schema name to define a unique name, in this format \{_&#65279;domainName_\}\_\{_&#65279;schemaName_\}.</span></span> <span data-ttu-id="5ccdf-167">Por exemplo, se o seu domínio personalizado for contoso.com, você pode definir uma **id** de `contoso_mySchema`.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-167">For example, if your vanity domain is contoso.com, you can define an **id** of, `contoso_mySchema`.</span></span> <span data-ttu-id="5ccdf-168">Essa é a opção preferencial.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-168">This is the preferred option.</span></span>
- <span data-ttu-id="5ccdf-p108">Se não tiver um domínio personalizado verificado, você poderá definir apenas a **id** para um nome de esquema (sem um prefixo de nome de domínio), por exemplo, `mySchema`. O Microsoft Graph atribuirá uma ID de cadeia de caracteres com base no nome fornecido, neste formato: ext\{_&#65279;8-caracteres-alfanuméricos-aleatórios_\}\_\{_&#65279;nome-do-esquema_\}.  Por exemplo, `extkvbmkofy_mySchema`.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-p108">If you don’t have a verified vanity domain, you can just set the **id** to a schema name (without a domain name prefix), for example, `mySchema`. Microsoft Graph will assign a string ID for you based on the supplied name, in this format: ext\{_&#65279;8-random-alphanumeric-chars_\}\_\{_&#65279;schema-name_\}.  For example, `extkvbmkofy_mySchema`.</span></span>

<span data-ttu-id="5ccdf-172">Você verá este nome exclusivo na **id** usado como o nome do tipo complexo que armazenará seus dados personalizados na instância de recurso estendida.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-172">You will see this unique name in **id** used as the name of the complex type that will store your custom data on the extended resource instance.</span></span>

<span data-ttu-id="5ccdf-173">Diferentemente das extensões abertas, o gerenciamento de definições de extensão de esquema ([list](../api-reference/v1.0/api/schemaextension_list.md), [create](../api-reference/v1.0/api/schemaextension_post_schemaextensions.md), [get](../api-reference/v1.0/api/schemaextension_get.md), [update](../api-reference/v1.0/api/schemaextension_update.md) e [delete](../api-reference/v1.0/api/schemaextension_delete.md)) e gerenciar seus dados (adicionar, obter, atualizar e excluir dados) são conjuntos separados de operações de API.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-173">Unlike open extensions, managing schema extension definitions ([list](../api-reference/v1.0/api/schemaextension_list.md), [create](../api-reference/v1.0/api/schemaextension_post_schemaextensions.md), [get](../api-reference/v1.0/api/schemaextension_get.md), [update](../api-reference/v1.0/api/schemaextension_update.md), and [delete](../api-reference/v1.0/api/schemaextension_delete.md)) and managing their data (add, get, update, and delete data) are separate sets of API operations.</span></span> 

<span data-ttu-id="5ccdf-174">Como as extensões de esquema são acessíveis como tipos complexos em instâncias de recursos direcionados, você pode realizar operações CRUD nos dados personalizados em uma extensão de esquema das seguintes maneiras:</span><span class="sxs-lookup"><span data-stu-id="5ccdf-174">Because schema extensions are accessible as complex types in instances of the targeted resources, you can do CRUD operations on the custom data in a schema extension in the following ways:</span></span>

- <span data-ttu-id="5ccdf-175">Use o método `POST` de recurso para especificar dados personalizados ao criar uma nova instância de recurso.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-175">Use the resource `POST` method to specify custom data when creating a new resource instance.</span></span> <span data-ttu-id="5ccdf-176">Observe que há um [problema conhecido](known_issues.md#creating-a-resource-instance-and-adding-schema-extension-data-at-the-same-time) nos recursos **contato**, **evento**, **mensagem** e **postagem** que requer a criação de uma extensão de esquema usando uma operação `PATCH`.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-176">Note that there is a [known issue](known_issues.md#creating-a-resource-instance-and-adding-schema-extension-data-at-the-same-time) on the **contact**, **event**, **message**, and **post** resources that requires creating a schema extension using a `PATCH` operation.</span></span>
- <span data-ttu-id="5ccdf-177">Use o método `GET` de recurso para ler os dados personalizados.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-177">Use the resource `GET` method to read the custom data.</span></span>
- <span data-ttu-id="5ccdf-178">Use o método `PATCH` de recurso para adicionar ou atualizar dados personalizados em uma instância de recursos existentes.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-178">Use the resource `PATCH` method to add or update custom data in an existing resource instance.</span></span>
- <span data-ttu-id="5ccdf-179">Use o método `PATCH` de recurso para definir o tipo complexo como nulo, para excluir os dados personalizados da instância do recurso.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-179">Use the resource `PATCH` method to set the complex type to null, to delete the custom data in the resource instance.</span></span> 

<span data-ttu-id="5ccdf-180">Exemplo de extensão do esquema: [Adicionar dados personalizados a grupos usando as extensões do esquema](extensibility_schema_groups.md)</span><span class="sxs-lookup"><span data-stu-id="5ccdf-180">Schema extension example: [Add custom data to groups using schema extensions](extensibility_schema_groups.md)</span></span>


### <a name="schema-extensions-lifecycle"></a><span data-ttu-id="5ccdf-181">Ciclo de vida das extensões do esquema</span><span class="sxs-lookup"><span data-stu-id="5ccdf-181">Schema extensions lifecycle</span></span>

<span data-ttu-id="5ccdf-182">Quando o aplicativo cria uma definição de extensão do esquema, ele é marcado como proprietária da extensão do esquema.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-182">When your app creates a schema extension definition, the app is marked as the owner of that schema extension.</span></span> 

<span data-ttu-id="5ccdf-p110">O aplicativo proprietário pode mover a extensão pelos diferentes estados de um ciclo de vida, usando uma operação PATCH na propriedade **status**. Dependendo do estado atual, o aplicativo proprietário poderá atualizar ou excluir a extensão. Todas as atualizações para uma extensão de esquema devem ser sempre apenas aditivas e incondicionais.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-p110">The owner app can move the extension through different states of a lifecycle, using a PATCH operation on its **status** property. Depending on the current state, the owner app may be able to update or delete the extension. Any updates to a schema extension should always only be additive and non-breaking.</span></span>


|<span data-ttu-id="5ccdf-186">Estado</span><span class="sxs-lookup"><span data-stu-id="5ccdf-186">State</span></span> |<span data-ttu-id="5ccdf-187">Comportamento de estado de ciclo de vida</span><span class="sxs-lookup"><span data-stu-id="5ccdf-187">Lifecycle state behavior</span></span> |
|:-------------|:------------|
| <span data-ttu-id="5ccdf-188">InDevelopment</span><span class="sxs-lookup"><span data-stu-id="5ccdf-188">InDevelopment</span></span> | <ul><li><span data-ttu-id="5ccdf-p111">Estado inicial após a criação. O aplicativo de proprietário ainda está desenvolvendo a extensão do esquema. </span><span class="sxs-lookup"><span data-stu-id="5ccdf-p111">Initial state after creation. The owner app is still developing the schema extension. </span></span></li><li><span data-ttu-id="5ccdf-191">Nesse estado, somente o aplicativo do proprietário pode estender instâncias de recursos com essa definição do esquema e apenas no mesmo diretório onde o proprietário do aplicativo está registrado.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-191">In this state, only the owner app can extend resource instances with this schema definition, and only in the same directory where the owner app is registered.</span></span> </li><li><span data-ttu-id="5ccdf-192">Apenas o aplicativo proprietário pode atualizar a definição de extensão com alterações aditivas ou excluí-la.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-192">Only the owner app can update the extension definition with additive changes or delete it.</span></span> </li><li><span data-ttu-id="5ccdf-193">O aplicativo proprietário pode mover a extensão do esquema de **InDevelopment** para o estado **Disponível**.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-193">The owner app can move the extension from **InDevelopment** to the **Available** state.</span></span></li></ul> |
| <span data-ttu-id="5ccdf-194">Disponível</span><span class="sxs-lookup"><span data-stu-id="5ccdf-194">Available</span></span> | <ul><li><span data-ttu-id="5ccdf-195">A extensão do esquema está disponível para ser usada por todos os aplicativos em qualquer locatário.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-195">The schema extension is available for use by all apps in any tenant.</span></span> </li><li><span data-ttu-id="5ccdf-196">Depois que o aplicativo proprietário define a extensão como **Disponível**, qualquer aplicativo pode simplesmente adicionar dados personalizados a instâncias desses tipos de recursos especificados na extensão (desde que o aplicativo tenha permissões para esse recurso).</span><span class="sxs-lookup"><span data-stu-id="5ccdf-196">After the owner app sets the extension to **Available**, any app can simply add custom data to instances of those resource types specified in the extension (as long as the app has permissions to that resource).</span></span> <span data-ttu-id="5ccdf-197">O aplicativo pode atribuir dados personalizados ao criar uma nova instância ou atualizar uma instância existente.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-197">The app can assign custom data when creating a new instance or updating an existing instance.</span></span> </li><li><span data-ttu-id="5ccdf-198">O aplicativo proprietário pode atualizar a definição de extensão com alterações aditivas.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-198">Only the owner app can update the extension definition with additive changes.</span></span> <span data-ttu-id="5ccdf-199">Nenhum aplicativo pode excluir a definição de extensão nesse estado.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-199">No app can delete the extension definition in this state.</span></span> </li><li><span data-ttu-id="5ccdf-200">O proprietário do aplicativo pode mover a extensão do esquema de **Disponível** para o estado **Preterido**.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-200">The owner app can move the schema extension from **Available** to the **Deprecated** state.</span></span></li></ul> |
| <span data-ttu-id="5ccdf-201">Preterido</span><span class="sxs-lookup"><span data-stu-id="5ccdf-201">Deprecated</span></span> | <ul><li><span data-ttu-id="5ccdf-202">A definição de extensão de esquema não pode ser lido nem modificada.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-202">The schema extension definition can no longer be read or modified.</span></span> </li><li><span data-ttu-id="5ccdf-203">Nenhum aplicativo pode ler, atualizar, adicionar novas propriedades ou excluir a extensão.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-203">No app can view, update, add new properties, or delete the extension.</span></span> </li><li><span data-ttu-id="5ccdf-204">No entanto, os aplicativos ainda podem ler, atualizar ou excluir _valores de propriedade_ de extensão existentes.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-204">Apps can, however, still read, update, or delete existing extension _property values_.</span></span> </li><li><span data-ttu-id="5ccdf-205">O aplicativo proprietário pode mover a extensão do esquema de **Preterida** de volta ao estado **Disponível**.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-205">The owner app can move the schema extension from **Deprecated** back to the **Available** state.</span></span></li></ul> |

### <a name="supported-property-data-types"></a><span data-ttu-id="5ccdf-206">Tipos de dados de propriedade com suporte</span><span class="sxs-lookup"><span data-stu-id="5ccdf-206">Supported property data types</span></span>

<span data-ttu-id="5ccdf-207">Há suporte para os seguintes tipos de dados quando se define uma propriedade em uma extensão do esquema:</span><span class="sxs-lookup"><span data-stu-id="5ccdf-207">The following data types are supported when defining a property in a schema extension:</span></span>

| <span data-ttu-id="5ccdf-208">Tipo de propriedade</span><span class="sxs-lookup"><span data-stu-id="5ccdf-208">Property Type</span></span> | <span data-ttu-id="5ccdf-209">Comentários</span><span class="sxs-lookup"><span data-stu-id="5ccdf-209">Remarks</span></span> |
|:-------------|:------------|
| <span data-ttu-id="5ccdf-210">Binária</span><span class="sxs-lookup"><span data-stu-id="5ccdf-210">Binary</span></span> | <span data-ttu-id="5ccdf-211">No máximo 256 bytes.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-211">256 bytes maximum.</span></span> |
| <span data-ttu-id="5ccdf-212">Booliano</span><span class="sxs-lookup"><span data-stu-id="5ccdf-212">Boolean</span></span> | <span data-ttu-id="5ccdf-213">Não é compatível com as mensagens, eventos e postagens.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-213">Not supported for messages, events and posts.</span></span> |
| <span data-ttu-id="5ccdf-214">DateTime</span><span class="sxs-lookup"><span data-stu-id="5ccdf-214">DateTime</span></span> | <span data-ttu-id="5ccdf-p114">Deve ser especificado no formato ISO 8601. Serão armazenados no UTC.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-p114">Must be specified in ISO 8601 format. Will be stored in UTC.</span></span> |
| <span data-ttu-id="5ccdf-217">Inteiro</span><span class="sxs-lookup"><span data-stu-id="5ccdf-217">Integer</span></span> | <span data-ttu-id="5ccdf-p115">Valor de 32 bits. Não é compatível com as mensagens, eventos e postagens.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-p115">32-bit value. Not supported for messages, events and posts.</span></span> |
| <span data-ttu-id="5ccdf-220">String</span><span class="sxs-lookup"><span data-stu-id="5ccdf-220">String</span></span> | <span data-ttu-id="5ccdf-221">Máximo de 256 caracteres.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-221">256 characters maximum.</span></span> |

> <span data-ttu-id="5ccdf-222">**Observação:** Propriedades de múltiplos valores não são suportadas.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-222">**Note:** Multi-value properties are not supported.</span></span>

### <a name="azure-ad-directory-schema-extensions"></a><span data-ttu-id="5ccdf-223">Extensões do esquema de diretório do Azure AD</span><span class="sxs-lookup"><span data-stu-id="5ccdf-223">Azure AD directory schema extensions</span></span>

<span data-ttu-id="5ccdf-p116">O Azure AD dá suporte a um tipo semelhante de extensões, conhecido como [extensões de esquema de diretório](https://msdn.microsoft.com/en-us/library/azure/ad/graph/howto/azure-ad-graph-api-directory-schema-extensions), em alguns recursos [directoryObject](../api-reference/v1.0/resources/directoryObject.md). Embora você deva usar a API do Graph do Azure AD para criar e gerenciar as definições de extensões de esquema de diretório, pode usar a API do Microsoft Graph para adicionar, obter, atualizar e excluir _dados_ nas propriedades dessas extensões.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-p116">Azure AD supports a similar type of extensions, known as [directory schema extensions](https://msdn.microsoft.com/en-us/library/azure/ad/graph/howto/azure-ad-graph-api-directory-schema-extensions), on a few [directoryObject](../api-reference/v1.0/resources/directoryObject.md) resources. While you must use Azure AD Graph API to create and manage the definitions of directory schema extensions, you can use Microsoft Graph API to add, get, update and delete _data_ in the properties of these extensions.</span></span>

## <a name="permissions"></a><span data-ttu-id="5ccdf-226">Permissões</span><span class="sxs-lookup"><span data-stu-id="5ccdf-226">Permissions</span></span>

<span data-ttu-id="5ccdf-227">As mesmas [permissões](./permissions_reference.md) necessárias para ler ou gravar um recurso específico também são necessárias para ler ou gravar quaisquer dados de extensões nesse recurso.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-227">The same [permissions](./permissions_reference.md) that are required to read from or write to a specific resource are also required to read from or write to any extensions data on that resource.</span></span> <span data-ttu-id="5ccdf-228">Por exemplo, para que um aplicativo seja capaz de atualizar o perfil de um usuário conectado com dados de aplicativo personalizados, o aplicativo deve receber a permissão *User.ReadWrite.All*.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-228">For example, for an app to be able to update the signed-in user's profile with custom app data, the app must have been granted the *User.ReadWrite.All* permission.</span></span>

<span data-ttu-id="5ccdf-229">Além disso, para criar e gerenciar definições de extensão do esquema, um aplicativo deve receber a permissão *Directory.AccessAsUser.All*.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-229">Additionally, to create and manage schema extension definitions, an application must be granted the *Directory.AccessAsUser.All* permission.</span></span>

## <a name="data-limits"></a><span data-ttu-id="5ccdf-230">Limites de dados</span><span class="sxs-lookup"><span data-stu-id="5ccdf-230">Data limits</span></span>

### <a name="open-extension-limits"></a><span data-ttu-id="5ccdf-231">Limites de extensão aberta</span><span class="sxs-lookup"><span data-stu-id="5ccdf-231">Open extension limits</span></span>
<span data-ttu-id="5ccdf-232">Os seguintes limites se aplicam aos recursos de diretório (como **usuário**, **grupo**, **dispositivo**):</span><span class="sxs-lookup"><span data-stu-id="5ccdf-232">The following limits apply to directory resources (such as **user**, **group**, **device**):</span></span>

- <span data-ttu-id="5ccdf-233">Cada extensão aberta pode ter até 2 KB de dados (incluindo a própria definição da extensão).</span><span class="sxs-lookup"><span data-stu-id="5ccdf-233">Each open extension can have up to 2 KB of data (including the extension definition itself).</span></span>
- <span data-ttu-id="5ccdf-234">Um aplicativo pode adicionar até duas extensões abertas por instância do recurso.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-234">An application can add up to two open extensions per resource instance.</span></span>

### <a name="schema-extension-limits"></a><span data-ttu-id="5ccdf-235">Limites de extensão do esquema</span><span class="sxs-lookup"><span data-stu-id="5ccdf-235">Schema extension limits</span></span>
<span data-ttu-id="5ccdf-236">Um aplicativo pode criar não mais de cinco definições de **extensão do esquema**.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-236">An application may create no more than five **schema extension** definitions.</span></span>

## <a name="known-limitations"></a><span data-ttu-id="5ccdf-237">Limitações conhecidas</span><span class="sxs-lookup"><span data-stu-id="5ccdf-237">Known limitations</span></span>

<span data-ttu-id="5ccdf-238">Nas limitações conhecidas usando extensões, veja a [seção extensões](known_issues.md#extensions) no artigo problemas conhecidos.</span><span class="sxs-lookup"><span data-stu-id="5ccdf-238">For known limitations using extensions, see the [extensions section](known_issues.md#extensions) in the known issues article.</span></span>

## <a name="extension-examples"></a><span data-ttu-id="5ccdf-239">Exemplos de extensão</span><span class="sxs-lookup"><span data-stu-id="5ccdf-239">Extension examples</span></span>

- [<span data-ttu-id="5ccdf-240">Adicionar dados personalizados aos usuários usando extensões abertas</span><span class="sxs-lookup"><span data-stu-id="5ccdf-240">Add custom data to users using open extensions</span></span>](extensibility_open_users.md)

- [<span data-ttu-id="5ccdf-241">Adicionar dados personalizados a grupos usando as extensões do esquema</span><span class="sxs-lookup"><span data-stu-id="5ccdf-241">Add custom data to groups using schema extensions</span></span>](extensibility_schema_groups.md)

## <a name="see-also"></a><span data-ttu-id="5ccdf-242">Confira também</span><span class="sxs-lookup"><span data-stu-id="5ccdf-242">See also</span></span>

- [<span data-ttu-id="5ccdf-243">Domínios do Office 365</span><span class="sxs-lookup"><span data-stu-id="5ccdf-243">Office 365 domains</span></span>](https://technet.microsoft.com/en-us/library/office-365-domains.aspx)

- [<span data-ttu-id="5ccdf-244">Adição e verificação de um domínio para um locatário do Office 365</span><span class="sxs-lookup"><span data-stu-id="5ccdf-244">Adding and verifying a domain for an Office 365 tenant</span></span>](http://office365support.ca/adding-and-verifying-a-domain-for-the-new-office-365/)
