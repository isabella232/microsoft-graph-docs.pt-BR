# <a name="microsoft-graph-security-data-flow"></a><span data-ttu-id="aefe7-101">Fluxo de dados do Microsoft Graph Security</span><span class="sxs-lookup"><span data-stu-id="aefe7-101">Microsoft Graph Security data flow</span></span>

<span data-ttu-id="aefe7-102">A API do Microsoft Graph Security agrupa solicitações para todos os provedores no ecossistema do Microsoft Graph Security.</span><span class="sxs-lookup"><span data-stu-id="aefe7-102">The Microsoft Graph Security API federates requests to all providers in the Microsoft Graph Security ecosystem.</span></span> <span data-ttu-id="aefe7-103">Isso se baseia no consentimento de provedor de segurança fornecido pelo aplicativo, conforme mostrado no diagrama a seguir.</span><span class="sxs-lookup"><span data-stu-id="aefe7-103">This is based on the security provider consent provided by the application, as shown in the following diagram.</span></span> <span data-ttu-id="aefe7-104">O fluxo de trabalho de consentimento aplica-se somente a provedores não-Microsoft.</span><span class="sxs-lookup"><span data-stu-id="aefe7-104">The consent workflow only applies to non-Microsoft providers.</span></span>

![security_dataflow_1.PNG](./images/security_dataflow_1.png)

<span data-ttu-id="aefe7-106">A seguir, uma descrição do fluxo:</span><span class="sxs-lookup"><span data-stu-id="aefe7-106">The following is a description of the flow:</span></span>

1. <span data-ttu-id="aefe7-107">O usuário do aplicativo faz login no aplicativo do provedor para visualizar o formulário de consentimento do provedor.</span><span class="sxs-lookup"><span data-stu-id="aefe7-107">The application user signs in to the provider application to view the consent form from the provider.</span></span> <span data-ttu-id="aefe7-108">Esta experiência de formulário de consentimento ou interface do usuário é de propriedade do provedor e se aplica a provedores não Microsoft apenas para obter o consentimento explícito de seus clientes para enviar solicitações à API de segurança do Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="aefe7-108">This consent form experience or UI is owned by the provider and applies to non-Microsoft providers only to get explicit consent from their customers to send requests to Microsoft Graph Security API.</span></span>
2. <span data-ttu-id="aefe7-109">O consentimento do cliente é armazenado no lado do provedor.</span><span class="sxs-lookup"><span data-stu-id="aefe7-109">The client consent is stored on the provider side.</span></span>
3. <span data-ttu-id="aefe7-110">O serviço de consentimento do provedor chama a API de segurança do Microsoft Graph para informar a aprovação do consentimento para o respectivo cliente.</span><span class="sxs-lookup"><span data-stu-id="aefe7-110">The provider consent service calls the Microsoft Graph security API to inform consent approval for the respective customer.</span></span>
4. <span data-ttu-id="aefe7-111">O aplicativo envia uma solicitação para a API de segurança do Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="aefe7-111">The application sends a request to the Microsoft Graph security API.</span></span>
5. <span data-ttu-id="aefe7-112">A API de segurança do Microsoft Graph verifica as informações de consentimento para esse cliente mapeadas para vários provedores.</span><span class="sxs-lookup"><span data-stu-id="aefe7-112">The Microsoft Graph Security API checks for the consent information for this customer mapped to various providers.</span></span>
6. <span data-ttu-id="aefe7-113">A API de segurança do Microsoft Graph chama todos os provedores aos quais o cliente forneceu consentimento explícito por meio da experiência de consentimento do provedor.</span><span class="sxs-lookup"><span data-stu-id="aefe7-113">The Microsoft Graph Security API calls all those providers the customer has given explicit consent to via the provider consent experience.</span></span>
7. <span data-ttu-id="aefe7-114">A resposta é retornada de todos os provedores autorizados para esse cliente.</span><span class="sxs-lookup"><span data-stu-id="aefe7-114">The response is returned from all the consented providers for that client.</span></span>
8. <span data-ttu-id="aefe7-115">A resposta do conjunto de resultados é retornada para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="aefe7-115">The result set response is returned to the application.</span></span>
9. <span data-ttu-id="aefe7-116">Se o cliente não tiver consentido em nenhum provedor, nenhum resultado desses fornecedores será incluído na resposta.</span><span class="sxs-lookup"><span data-stu-id="aefe7-116">If the customer has not consented to any provider, no results from those providers are included in the response.</span></span>
